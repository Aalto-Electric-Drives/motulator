
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>motulator.drive.control.sm &#8212; motulator 0.4.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" href="../../../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../../../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js?v=71dfc096"></script>
    <script src="../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'autoapi/motulator/drive/control/sm/index';</script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="motulator.drive.model" href="../../model/index.html" />
    <link rel="prev" title="motulator.drive.control.im" href="../im/index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">motulator 0.4.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing.html">Contributing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../drive_examples/index.html">Drives</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../drive_examples/vector/index.html">Current-Vector Control</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vector/plot_vector_ctrl_pmsm_2kw.html">2.2-kW PMSM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vector/plot_vector_ctrl_syrm_7kw.html">6.7-kW SyRM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vector/plot_vector_ctrl_pmsm_2kw_diode.html">2.2-kW PMSM, diode bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vector/plot_vector_ctrl_im_2kw_tq_mode.html">2.2-kW induction motor, torque-control mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vector/plot_vector_ctrl_pmsyrm_thor.html">5-kW PM-SyRM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vector/plot_vector_ctrl_im_2kw.html">2.2-kW induction motor, saturated</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../drive_examples/vhz/index.html">V/Hz Control</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vhz/plot_vhz_ctrl_6step_im_2kw.html">2.2-kW induction motor, 6-step mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vhz/plot_vhz_ctrl_im_2kw.html">2.2-kW induction motor, diode bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/vhz/plot_vhz_ctrl_im_2kw_lc.html">2.2-kW induction motor, LC filter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../drive_examples/obs_vhz/index.html">Observer-Based V/Hz Control</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/obs_vhz/plot_obs_vhz_ctrl_pmsm_2kw.html">2.2-kW PMSM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/obs_vhz/plot_obs_vhz_ctrl_im_2kw.html">2.2-kW induction motor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/obs_vhz/plot_obs_vhz_ctrl_syrm_7kw.html">6.7-kW SyRM, saturated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/obs_vhz/plot_obs_vhz_ctrl_pmsm_2kw_two_mass.html">2.2-kW PMSM, 2-mass mechanics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/obs_vhz/plot_obs_vhz_ctrl_pmsyrm_thor.html">5-kW PM-SyRM, flux maps from SyR-e</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../drive_examples/flux_vector/index.html">Flux-Vector Control</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/flux_vector/plot_flux_vector_pmsm_2kw.html">2.2-kW PMSM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/flux_vector/plot_flux_vector_im_2kw.html">2.2-kW induction motor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/flux_vector/plot_flux_vector_syrm_7kw.html">6.7-kW SyRM, saturated, disturbance estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/flux_vector/plot_flux_vector_pmsyrm_5kw.html">5.5-kW PM-SyRM, saturated</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../drive_examples/signal_inj/index.html">Signal Injection</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/signal_inj/plot_signal_inj_pmsm_2kw.html">2.2-kW PMSM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../drive_examples/signal_inj/plot_signal_inj_syrm_7kw.html">6.7-kW SyRM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../grid_examples/index.html">Grid Converters</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../grid_examples/grid_following/index.html">Grid-Following Control</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../grid_examples/grid_following/plot_gfl_lcl_10kva.html">10-kVA converter, LCL filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../grid_examples/grid_following/plot_gfl_dc_bus_10kva.html">10-kVA converter, DC-bus voltage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../grid_examples/grid_following/plot_gfl_10kva.html">10-kVA converter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../grid_examples/grid_forming/index.html">Grid-Forming Control</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../grid_examples/grid_forming/plot_gfm_rfpsc_13kva.html">12.5-kVA converter, RFPSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../grid_examples/grid_forming/plot_gfm_obs_13kva.html">12.5-kVA converter, disturbance observer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">System Models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../model/common.html">Common</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../model/drive/index.html">Drives</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../model/drive/machines.html">Electric Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../model/drive/mechanics.html">Mechanics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../model/drive/ac_filter.html">Output LC Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../model/drive/diode_bridge.html">Six-Pulse Diode Bridge</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../model/grid/index.html">Grid Converters</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../model/grid/filter_and_grid.html">AC Filter and Grid Impedance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../model/grid/grid_volt_source.html">Three-Phase Voltage Source</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Control Methods</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../control/control_system.html">Common</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../control/drive/index.html">Drives</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../control/drive/speed_ctrl.html">Speed Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../control/drive/current_ctrl.html">Current Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../control/drive/observers.html">Observers</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../control/grid/index.html">Grid Converters</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../control/grid/dc_voltage_ctrl.html">DC-Bus Voltage Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../control/grid/current_ctrl.html">Current Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../control/grid/synchronization.html">Disturbance-Observer-Based PLL</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Class Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../../index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../common/index.html">motulator.common</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../common/control/index.html">motulator.common.control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../common/model/index.html">motulator.common.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../common/utils/index.html">motulator.common.utils</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../../index.html">motulator.drive</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 current active has-children"><a class="reference internal" href="../index.html">motulator.drive.control</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../im/index.html">motulator.drive.control.im</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">motulator.drive.control.sm</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../model/index.html">motulator.drive.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html">motulator.drive.utils</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../grid/index.html">motulator.grid</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../grid/control/index.html">motulator.grid.control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../grid/model/index.html">motulator.grid.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../grid/utils/index.html">motulator.grid.utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/Aalto-Electric-Drives/motulator" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../../_sources/autoapi/motulator/drive/control/sm/index.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>motulator.drive.control.sm</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#package-contents">Package Contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentController"><code class="docutils literal notranslate"><span class="pre">CurrentController</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentController.output"><code class="docutils literal notranslate"><span class="pre">CurrentController.output()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReference"><code class="docutils literal notranslate"><span class="pre">CurrentReference</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReference.output"><code class="docutils literal notranslate"><span class="pre">CurrentReference.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReference.update"><code class="docutils literal notranslate"><span class="pre">CurrentReference.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg.mtpa_i_sd"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg.mtpa_i_sd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg.lim_tau_M"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg.lim_tau_M</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg.lim_i_sd"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg.lim_i_sd</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.current_reference"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.current_reference</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.observer"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.observer</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.current_ctrl"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.current_ctrl</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.speed_ctrl"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.speed_ctrl</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.get_feedback_signals"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.get_feedback_signals()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.output"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.update"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxTorqueReference"><code class="docutils literal notranslate"><span class="pre">FluxTorqueReference</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxTorqueReferenceCfg"><code class="docutils literal notranslate"><span class="pre">FluxTorqueReferenceCfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxVectorControl"><code class="docutils literal notranslate"><span class="pre">FluxVectorControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxVectorControl.output"><code class="docutils literal notranslate"><span class="pre">FluxVectorControl.output()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.Observer"><code class="docutils literal notranslate"><span class="pre">Observer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.Observer.output"><code class="docutils literal notranslate"><span class="pre">Observer.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.Observer.update"><code class="docutils literal notranslate"><span class="pre">Observer.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControl"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControl.output"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControl.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControl.update"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControl.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControlCfg"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControlCfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverCfg"><code class="docutils literal notranslate"><span class="pre">ObserverCfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection"><code class="docutils literal notranslate"><span class="pre">SignalInjection</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection.filter_current"><code class="docutils literal notranslate"><span class="pre">SignalInjection.filter_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection.output"><code class="docutils literal notranslate"><span class="pre">SignalInjection.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection.update"><code class="docutils literal notranslate"><span class="pre">SignalInjection.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl.get_feedback_signals"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl.get_feedback_signals()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl.output"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl.update"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SpeedController"><code class="docutils literal notranslate"><span class="pre">SpeedController</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.current"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.current_limit"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.current_limit()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.flux"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.flux()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpa"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpa()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpa_locus"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpa_locus()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_and_current_limits"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv_and_current_limits()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_current"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_locus"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv_locus()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_current_loci"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_current_loci()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_flux_loci"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_flux_loci()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_torque_current"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_torque_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_torque_flux"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_torque_flux()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.torque"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.torque()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="module-motulator.drive.control.sm">
<span id="motulator-drive-control-sm"></span><h1>motulator.drive.control.sm<a class="headerlink" href="#module-motulator.drive.control.sm" title="Permalink to this heading">#</a></h1>
<p>Controls for synchronous machines.</p>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.CurrentController" title="motulator.drive.control.sm.CurrentController"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CurrentController</span></code></a></p></td>
<td><p>Current controller for synchronous machines.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.CurrentReference" title="motulator.drive.control.sm.CurrentReference"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CurrentReference</span></code></a></p></td>
<td><p>Current reference calculation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.CurrentReferenceCfg" title="motulator.drive.control.sm.CurrentReferenceCfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CurrentReferenceCfg</span></code></a></p></td>
<td><p>Reference generation configuration.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.CurrentVectorControl" title="motulator.drive.control.sm.CurrentVectorControl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CurrentVectorControl</span></code></a></p></td>
<td><p>Current vector control for synchronous machine drives.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.FluxTorqueReference" title="motulator.drive.control.sm.FluxTorqueReference"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FluxTorqueReference</span></code></a></p></td>
<td><p>Flux and torque references.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.FluxTorqueReferenceCfg" title="motulator.drive.control.sm.FluxTorqueReferenceCfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FluxTorqueReferenceCfg</span></code></a></p></td>
<td><p>Reference generation configuration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.FluxVectorControl" title="motulator.drive.control.sm.FluxVectorControl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FluxVectorControl</span></code></a></p></td>
<td><p>Flux-vector control of synchronous machine drives.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.Observer" title="motulator.drive.control.sm.Observer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Observer</span></code></a></p></td>
<td><p>Observer for synchronous machines in estimated rotor coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.ObserverBasedVHzControl" title="motulator.drive.control.sm.ObserverBasedVHzControl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ObserverBasedVHzControl</span></code></a></p></td>
<td><p>Observer-based V/Hz control for synchronous motors.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.ObserverBasedVHzControlCfg" title="motulator.drive.control.sm.ObserverBasedVHzControlCfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ObserverBasedVHzControlCfg</span></code></a></p></td>
<td><p>Control system configuration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.ObserverCfg" title="motulator.drive.control.sm.ObserverCfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ObserverCfg</span></code></a></p></td>
<td><p>Observer configuration.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.SignalInjection" title="motulator.drive.control.sm.SignalInjection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SignalInjection</span></code></a></p></td>
<td><p>Estimate the rotor position error based on signal injection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.SignalInjectionControl" title="motulator.drive.control.sm.SignalInjectionControl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SignalInjectionControl</span></code></a></p></td>
<td><p>Sensorless control with signal injection for synchronous machine drives.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#motulator.drive.control.sm.SpeedController" title="motulator.drive.control.sm.SpeedController"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SpeedController</span></code></a></p></td>
<td><p>2DOF PI speed controller.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#motulator.drive.control.sm.TorqueCharacteristics" title="motulator.drive.control.sm.TorqueCharacteristics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TorqueCharacteristics</span></code></a></p></td>
<td><p>Compute MTPA and MTPV loci based on the machine parameters.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">CurrentController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentController" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../common/control/index.html#motulator.common.control.ComplexPIController" title="motulator.common.control.ComplexPIController"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.common.control.ComplexPIController</span></code></a></p>
<p>Current controller for synchronous machines.</p>
<p>This provides an interface of a current controller for synchronous machines
<a class="footnote-reference brackets" href="#awa2019a" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. The gains are initialized based on the desired closed-loop
bandwidth and the inductances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Synchronous machine parameters, should contain <cite>L_d</cite> and <cite>L_q</cite> (H).</p></li>
<li><p><strong>alpha_c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Closed-loop bandwidth (rad/s).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="awa2019a" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Awan, Saarakkala, Hinkkanen, “Flux-linkage-based current
control of saturated synchronous motors,” IEEE Trans. Ind. Appl. 2019,
<a class="reference external" href="https://doi.org/10.1109/TIA.2019.2919258">https://doi.org/10.1109/TIA.2019.2919258</a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentController.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_ff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentController.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentController.output" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the controller output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Reference signal.</p></li>
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Feedback signal.</p></li>
<li><p><strong>u_ff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a><em>, </em><em>optional</em>) – Feedforward signal. The default is 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>u</strong> – Controller output.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReference">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">CurrentReference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentReference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentReference" title="Permalink to this definition">#</a></dt>
<dd><p>Current reference calculation.</p>
<p>This method includes the MTPA locus and field-weakening operation based on
the unlimited voltage reference feedback. The MTPV and current limits are
taken into account. This resembles the method presented <a class="footnote-reference brackets" href="#bed2020" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.CurrentReferenceCfg" title="motulator.drive.control.sm.CurrentReferenceCfg"><em>CurrentReferenceCfg</em></a>) – Reference generation configuration.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Instead of the PI controller used in <a class="footnote-reference brackets" href="#bed2020" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, we use a simpler integral
controller with a constant gain. The resulting operating-point-dependent
closed-loop pole could be derived using (12) of the paper. Unlike in
<a class="footnote-reference brackets" href="#bed2020" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, the MTPV limit is also included here by means of limiting the
reference torque and the d-axis current reference.</p>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="bed2020" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id2">1</a>,<a role="doc-backlink" href="#id3">2</a>,<a role="doc-backlink" href="#id4">3</a>)</span>
<p>Bedetti, Calligaro, Petrella, “Analytical design and
autotuning of adaptive flux-weakening voltage regulation loop in IPMSM
drives with accurate torque regulation,” IEEE Trans. Ind. Appl., 2020,
<a class="reference external" href="https://doi.org/10.1109/TIA.2019.2942807">https://doi.org/10.1109/TIA.2019.2942807</a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReference.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentReference.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentReference.output" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the stator current reference.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReference.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentReference.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentReference.update" title="Permalink to this definition">#</a></dt>
<dd><p>Field-weakening control based on the unlimited reference voltage.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReferenceCfg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">CurrentReferenceCfg</span></span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentReferenceCfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentReferenceCfg" title="Permalink to this definition">#</a></dt>
<dd><p>Reference generation configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum stator current (A).</p></li>
<li><p><strong>min_psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Minimum stator flux (Vs). The default is <cite>psi_f</cite>.</p></li>
<li><p><strong>nom_w_m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Nominal rotor angular speed (electrical rad/s). Needed if <cite>k_fw</cite> is not
directly provided.</p></li>
<li><p><strong>alpha_fw</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Field-weakening bandwidth (rad/s). The default is 2*pi*20.</p></li>
<li><p><strong>k_fw</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Field-weakening gain. The default is <cite>alpha_fw/(w_m_nom*par.L_d)</cite>.</p></li>
<li><p><strong>k_u</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Voltage utilization factor. The default is 0.95.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReferenceCfg.mtpa_i_sd">
<span class="sig-name descname"><span class="pre">mtpa_i_sd</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentReferenceCfg.mtpa_i_sd" title="Permalink to this definition">#</a></dt>
<dd><p>MTPA d-axis current (A) as a function of the torque (Nm).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReferenceCfg.lim_tau_M">
<span class="sig-name descname"><span class="pre">lim_tau_M</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentReferenceCfg.lim_tau_M" title="Permalink to this definition">#</a></dt>
<dd><p>Torque limit (Nm) as a function of the stator flux linkage (Vs). This
limit merges the MTPV and current limits.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentReferenceCfg.lim_i_sd">
<span class="sig-name descname"><span class="pre">lim_i_sd</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentReferenceCfg.lim_i_sd" title="Permalink to this definition">#</a></dt>
<dd><p>d-axis current limit (A) as a function of the stator flux linkage (Vs).
This limit merges the MTPV and current limits.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">CurrentVectorControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.00025</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">np.pi</span> <span class="pre">*</span> <span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">np.pi</span> <span class="pre">*</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensorless</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentVectorControl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../index.html#motulator.drive.control.DriveControlSystem" title="motulator.drive.control.DriveControlSystem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.drive.control.DriveControlSystem</span></code></a></p>
<p>Current vector control for synchronous machine drives.</p>
<p>This class interconnects the subsystems of the control system and provides
the interface to the solver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.CurrentReferenceCfg" title="motulator.drive.control.sm.CurrentReferenceCfg"><em>CurrentReferenceCfg</em></a>) – Reference generation configuration.</p></li>
<li><p><strong>T_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Sampling period (s). The default is 250e-6.</p></li>
<li><p><strong>J</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Moment of inertia (kgm²). Needed only for the speed controller.</p></li>
<li><p><strong>alpha_c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Current controller bandwidth (rad/s). The default is 2*pi*200.</p></li>
<li><p><strong>alpha_o</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Observer bandwidth (rad/s). The default is 2*pi*100.</p></li>
<li><p><strong>sensorless</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, sensorless control is used. The default is True.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.current_reference">
<span class="sig-name descname"><span class="pre">current_reference</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.current_reference" title="Permalink to this definition">#</a></dt>
<dd><p>Current reference generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#motulator.drive.control.sm.CurrentReference" title="motulator.drive.control.sm.CurrentReference">CurrentReference</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.observer">
<span class="sig-name descname"><span class="pre">observer</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.observer" title="Permalink to this definition">#</a></dt>
<dd><p>Flux and rotor position observer, used in the sensorless mode only.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#motulator.drive.control.sm.Observer" title="motulator.drive.control.sm.Observer">Observer</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.current_ctrl">
<span class="sig-name descname"><span class="pre">current_ctrl</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.current_ctrl" title="Permalink to this definition">#</a></dt>
<dd><p>Current controller. The default is CurrentController(par, 2*np.pi*200).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#motulator.drive.control.sm.CurrentController" title="motulator.drive.control.sm.CurrentController">CurrentController</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.speed_ctrl">
<span class="sig-name descname"><span class="pre">speed_ctrl</span></span><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.speed_ctrl" title="Permalink to this definition">#</a></dt>
<dd><p>Speed controller. The default is SpeedController(par.J, 2*np.pi*4).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#motulator.drive.control.sm.SpeedController" title="motulator.drive.control.sm.SpeedController">SpeedController</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.get_feedback_signals">
<span class="sig-name descname"><span class="pre">get_feedback_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentVectorControl.get_feedback_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.get_feedback_signals" title="Permalink to this definition">#</a></dt>
<dd><p>Override the base class method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentVectorControl.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.output" title="Permalink to this definition">#</a></dt>
<dd><p>Output</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.CurrentVectorControl.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_current_vector.html#CurrentVectorControl.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.CurrentVectorControl.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.FluxTorqueReference">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">FluxTorqueReference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_flux_vector.html#FluxTorqueReference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.FluxTorqueReference" title="Permalink to this definition">#</a></dt>
<dd><p>Flux and torque references.</p>
<p>The current and MTPV limits as well as the MTPA locus are implemented as
look-up tables, which are generated based on the constant machine model
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.FluxTorqueReferenceCfg" title="motulator.drive.control.sm.FluxTorqueReferenceCfg"><em>FluxTorqueReferenceCfg</em></a>) – Reference generation configuration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.FluxTorqueReferenceCfg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">FluxTorqueReferenceCfg</span></span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_flux_vector.html#FluxTorqueReferenceCfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.FluxTorqueReferenceCfg" title="Permalink to this definition">#</a></dt>
<dd><p>Reference generation configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum stator current (A).</p></li>
<li><p><strong>min_psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Minimum stator flux (Vs). The default is <cite>par.psi_f</cite>.</p></li>
<li><p><strong>max_psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum stator flux (Vs). The default is inf.</p></li>
<li><p><strong>k_u</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Voltage utilization factor. The default is 0.95.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.FluxVectorControl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">FluxVectorControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_psi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">np.pi</span> <span class="pre">*</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">np.pi</span> <span class="pre">*</span> <span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">np.pi</span> <span class="pre">*</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.00025</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensorless</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_flux_vector.html#FluxVectorControl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.FluxVectorControl" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../index.html#motulator.drive.control.DriveControlSystem" title="motulator.drive.control.DriveControlSystem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.drive.control.DriveControlSystem</span></code></a></p>
<p>Flux-vector control of synchronous machine drives.</p>
<p>This class implements a variant of flux-vector control <a class="footnote-reference brackets" href="#pel2009" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>. Rotor
coordinates as well as decoupling between the stator flux and torque
channels are used according to <a class="footnote-reference brackets" href="#awa2019b" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>. Here, the stator flux
magnitude and the electromagnetic torque are selected as controllable
variables, and proportional controllers are used for simplicity
<a class="footnote-reference brackets" href="#tii2024" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>. The magnetic saturation is not considered in this
implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.FluxTorqueReferenceCfg" title="motulator.drive.control.sm.FluxTorqueReferenceCfg"><em>FluxTorqueReferenceCfg</em></a>) – Reference generation configuration.</p></li>
<li><p><strong>alpha_psi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Flux-control bandwidth (rad/s). The default is 2*pi*100.</p></li>
<li><p><strong>alpha_tau</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Torque-control bandwidth (rad/s). The default is 2*pi*200.</p></li>
<li><p><strong>alpha_o</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Observer bandwidth (rad/s). The default is 2*pi*100.</p></li>
<li><p><strong>J</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Moment of inertia (kgm²). Needed only for the speed controller.</p></li>
<li><p><strong>T_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Sampling period (s). The default is 250e-6.</p></li>
<li><p><strong>sensorless</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, sensorless control is used. The default is True.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="pel2009" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">3</a><span class="fn-bracket">]</span></span>
<p>Pellegrino, Armando, Guglielmi, “Direct flux field-oriented
control of IPM drives with variable DC link in the field-weakening
region,” IEEE Trans. Ind. Appl., 2009,
<a class="reference external" href="https://doi.org/10.1109/TIA.2009.2027167">https://doi.org/10.1109/TIA.2009.2027167</a></p>
</aside>
<aside class="footnote brackets" id="awa2019b" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">4</a><span class="fn-bracket">]</span></span>
<p>Awan, Hinkkanen, Bojoi, Pellegrino, “Stator-flux-oriented
control of synchronous motors: A systematic design procedure,” IEEE
Trans. Ind. Appl., 2019, <a class="reference external" href="https://doi.org/10.1109/TIA.2019.2927316">https://doi.org/10.1109/TIA.2019.2927316</a></p>
</aside>
<aside class="footnote brackets" id="tii2024" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">5</a><span class="fn-bracket">]</span></span>
<p>Tiitinen, Hinkkanen, Harnefors, “Design framework for
sensorless control of synchronous machine drives,” IEEE Trans. Ind.
Electron., 2024, <a class="reference external" href="https://doi.org/10.1109/TIE.2024.3429650">https://doi.org/10.1109/TIE.2024.3429650</a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.FluxVectorControl.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_flux_vector.html#FluxVectorControl.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.FluxVectorControl.output" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate references.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.Observer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">Observer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_common.html#Observer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.Observer" title="Permalink to this definition">#</a></dt>
<dd><p>Observer for synchronous machines in estimated rotor coordinates.</p>
<p>This observer estimates the stator flux linkage, the rotor angle, the rotor
speed, and (optionally) the PM-flux linkage. The design is based on
<a class="footnote-reference brackets" href="#hin2018" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> and [#Tuo2018]. The observer gain decouples the electrical and
mechanical dynamics and allows placing the poles of the corresponding
linearized estimation error dynamics. The PM-flux linkage can also be
estimated <a class="footnote-reference brackets" href="#tuo2018" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>. The observer can also be used in the sensored mode,
in which case the control system is fixed to the measured rotor angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.ObserverCfg" title="motulator.drive.control.sm.ObserverCfg"><em>ObserverCfg</em></a>) – Observer configuration.</p>
</dd>
</dl>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="hin2018" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">6</a><span class="fn-bracket">]</span></span>
<p>Hinkkanen, Saarakkala, Awan, Mölsä, Tuovinen, “Observers for
sensorless synchronous motor drives: Framework for design and analysis,”
IEEE Trans. Ind. Appl., 2018, <a class="reference external" href="https://doi.org/10.1109/TIA.2018.2858753">https://doi.org/10.1109/TIA.2018.2858753</a></p>
</aside>
<aside class="footnote brackets" id="tuo2018" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">7</a><span class="fn-bracket">]</span></span>
<p>Tuovinen, Awan, Kukkola, Saarakkala, Hinkkanen, “Permanent-
magnet flux adaptation for sensorless synchronous motor drives,” Proc.
IEEE SLED, 2018, <a class="reference external" href="https://doi.org/10.1109/SLED.2018.8485899">https://doi.org/10.1109/SLED.2018.8485899</a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.Observer.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_common.html#Observer.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.Observer.output" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the feedback signals for the control system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fbk</strong> (<em>SimpleNamespace</em>) – <p>Measured signals, which should contain the following fields:</p>
<blockquote>
<div><dl class="simple">
<dt>u_ss<span class="classifier">complex</span></dt><dd><p>Stator voltage (V) in stator coordinates.</p>
</dd>
<dt>i_ss<span class="classifier">complex</span></dt><dd><p>Stator current (A) in stator coordinates.</p>
</dd>
<dt>w_m<span class="classifier">float, optional</span></dt><dd><p>Rotor angular speed (electrical rad/s). This is only needed
in the sensored mode.</p>
</dd>
<dt>theta_m<span class="classifier">float, optional</span></dt><dd><p>Rotor angle (electrical rad). This is only needed in the
sensored mode.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>fbk</strong> – Measured and estimated feedback signals for the control system,
containing at least the following fields:</p>
<blockquote>
<div><dl class="simple">
<dt>u_s<span class="classifier">complex</span></dt><dd><p>Stator voltage (V) in estimated rotor coordinates.</p>
</dd>
<dt>i_s<span class="classifier">complex</span></dt><dd><p>Stator current (A) in estimated rotor coordinates.</p>
</dd>
<dt>psi_f<span class="classifier">float</span></dt><dd><p>PM-flux magnitude estimate (Vs).</p>
</dd>
<dt>theta_m<span class="classifier">float</span></dt><dd><p>Rotor angle estimate (electrical rad).</p>
</dd>
<dt>w_s<span class="classifier">float</span></dt><dd><p>Angular frequency (rad/s) of the coordinate system.</p>
</dd>
<dt>w_m<span class="classifier">float</span></dt><dd><p>Rotor speed estimate (electrical rad/s).</p>
</dd>
<dt>psi_s<span class="classifier">complex</span></dt><dd><p>Stator flux estimate (Vs).</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SimpleNamespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.Observer.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_common.html#Observer.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.Observer.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update the state estimates.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.ObserverBasedVHzControl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">ObserverBasedVHzControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.00025</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_obs_vhz.html#ObserverBasedVHzControl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.ObserverBasedVHzControl" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../index.html#motulator.drive.control.DriveControlSystem" title="motulator.drive.control.DriveControlSystem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.drive.control.DriveControlSystem</span></code></a></p>
<p>Observer-based V/Hz control for synchronous motors.</p>
<p>This observer-based V/Hz control control method is based on <a class="footnote-reference brackets" href="#tii2022" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.ObserverBasedVHzControlCfg" title="motulator.drive.control.sm.ObserverBasedVHzControlCfg"><em>ObserverBasedVHzControlCfg</em></a>) – Control system configuration.</p></li>
<li><p><strong>T_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Sampling period (s). The default is 250e-6.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="tii2022" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">8</a><span class="fn-bracket">]</span></span>
<p>Tiitinen, Hinkkanen, Kukkola, Routimo, Pellegrino, Harnefors,
“Stable and passive observer-based V/Hz control for synchronous Motors,”
Proc. IEEE ECCE, 2022, <a class="reference external" href="https://doi.org/10.1109/ECCE50734.2022.9947858">https://doi.org/10.1109/ECCE50734.2022.9947858</a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.ObserverBasedVHzControl.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_obs_vhz.html#ObserverBasedVHzControl.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.ObserverBasedVHzControl.output" title="Permalink to this definition">#</a></dt>
<dd><p>Output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.ObserverBasedVHzControl.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_obs_vhz.html#ObserverBasedVHzControl.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.ObserverBasedVHzControl.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update the states.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.ObserverBasedVHzControlCfg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">ObserverBasedVHzControlCfg</span></span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_obs_vhz.html#ObserverBasedVHzControlCfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.ObserverBasedVHzControlCfg" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.drive.control.sm._flux_vector.FluxTorqueReferenceCfg</span></code></p>
<p>Control system configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alpha_psi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Flux control bandwidth (rad/s). The default is 2*pi*50.</p></li>
<li><p><strong>alpha_tau</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Torque control bandwidth (rad/s). The default is 2*pi*50.</p></li>
<li><p><strong>alpha_f</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Bandwidth of the high-pass filter (rad/s). The default is 2*pi*1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.ObserverCfg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">ObserverCfg</span></span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_common.html#ObserverCfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.ObserverCfg" title="Permalink to this definition">#</a></dt>
<dd><p>Observer configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>sensorless</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – If True, sensorless mode is used.</p></li>
<li><p><strong>alpha_o</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Observer bandwidth (rad/s). The default is 2*pi*40.</p></li>
<li><p><strong>k_o</strong> (<em>callable</em><em>, </em><em>optional</em>) – Observer gain as a function of the rotor angular speed. The default is
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">w_m:</span> <span class="pre">0.25*(R_s*(L_d</span> <span class="pre">+</span> <span class="pre">L_q)/(L_d*L_q)</span> <span class="pre">+</span> <span class="pre">0.2*abs(w_m))</span></code> if
<cite>sensorless</cite> else <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">w_m:</span> <span class="pre">2*pi*15</span></code>.</p></li>
<li><p><strong>k_f</strong> (<em>callable</em><em>, </em><em>optional</em>) – PM-flux estimation gain (V) as a function of the rotor angular speed.
The default is zero, <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">w_m:</span> <span class="pre">0</span></code>. A typical nonzero gain is of
the form <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">w_m:</span> <span class="pre">max(k*(abs(w_m)</span> <span class="pre">-</span> <span class="pre">w_min),</span> <span class="pre">0)</span></code>, i.e., zero below
the speed <cite>w_min</cite> (rad/s) and linearly increasing above that with the
slope <cite>k</cite> (Vs).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">SignalInjection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U_inj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjection" title="Permalink to this definition">#</a></dt>
<dd><p>Estimate the rotor position error based on signal injection.</p>
<p>This signal-injection method estimates the rotor position error based on
the injected switching frequency signal. The estimate can be used in a
phase-locked loop or in a state observer to robustify low-speed sensorless
operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>U_inj</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Injected voltage amplitude (V).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjection.filter_current">
<span class="sig-name descname"><span class="pre">filter_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjection.filter_current"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjection.filter_current" title="Permalink to this definition">#</a></dt>
<dd><p>Filter the stator current using the previously measured value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Unfiltered stator current (A) in estimated rotor coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>i_s_flt</strong> – Filtered stator current (A) in estimated rotor coordinates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjection.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_sq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjection.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjection.output" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the rotor position estimation error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Sampling period (s).</p></li>
<li><p><strong>i_sq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – q-axis stator current (A) in estimated rotor coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>err</strong> – Rotor position estimation error (electrical rad).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjection.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjection.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjection.update" title="Permalink to this definition">#</a></dt>
<dd><p>Store the old current values for the next sampling period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Stator current in estimated rotor coordinates.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjectionControl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">SignalInjectionControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.00025</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjectionControl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjectionControl" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../index.html#motulator.drive.control.DriveControlSystem" title="motulator.drive.control.DriveControlSystem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.drive.control.DriveControlSystem</span></code></a></p>
<p>Sensorless control with signal injection for synchronous machine drives.</p>
<p>This class implements a square-wave signal injection for low-speed
operation according to <a class="footnote-reference brackets" href="#kim2012" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a>. A phase-locked loop is used to track
the rotor position.</p>
<p class="rubric">Notes</p>
<p>For a wider speed range, signal injection could be combined to a
model-based observer. The effects of magnetic saturation are not
compensated for in this version.</p>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="kim2012" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">9</a><span class="fn-bracket">]</span></span>
<p>Kim, Ha, Sul, “PWM switching frequency signal injection
sensorless method in IPMSM,” IEEE Trans. Ind. Appl., 2012,
<a class="reference external" href="https://doi.org/10.1109/TIA.2012.2210175">https://doi.org/10.1109/TIA.2012.2210175</a></p>
</aside>
</aside>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#motulator.drive.control.sm.CurrentReferenceCfg" title="motulator.drive.control.sm.CurrentReferenceCfg"><em>CurrentReferenceCfg</em></a>) – Reference generation configuration.</p></li>
<li><p><strong>J</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Moment of inertia (kgm²). Needed only for the speed controller.</p></li>
<li><p><strong>T_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Sampling period (s).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjectionControl.get_feedback_signals">
<span class="sig-name descname"><span class="pre">get_feedback_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjectionControl.get_feedback_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjectionControl.get_feedback_signals" title="Permalink to this definition">#</a></dt>
<dd><p>Get the feedback signals.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjectionControl.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjectionControl.output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjectionControl.output" title="Permalink to this definition">#</a></dt>
<dd><p>Compute outputs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SignalInjectionControl.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fbk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_signal_inj.html#SignalInjectionControl.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SignalInjectionControl.update" title="Permalink to this definition">#</a></dt>
<dd><p>Extend the base class method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.SpeedController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">SpeedController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">J</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tau_M</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/_common.html#SpeedController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.SpeedController" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../common/control/index.html#motulator.common.control.PIController" title="motulator.common.control.PIController"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motulator.common.control.PIController</span></code></a></p>
<p>2DOF PI speed controller.</p>
<p>This is an interface for a speed controller. The gains are initialized
based on the desired closed-loop bandwidth and the rotor inertia estimate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>J</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Total inertia of the rotor (kgm²).</p></li>
<li><p><strong>alpha_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Closed-loop bandwidth (rad/s).</p></li>
<li><p><strong>max_tau_M</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum motor torque (Nm). The default is <cite>inf</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">motulator.drive.control.sm.</span></span><span class="sig-name descname"><span class="pre">TorqueCharacteristics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics" title="Permalink to this definition">#</a></dt>
<dd><p>Compute MTPA and MTPV loci based on the machine parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>par</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.SynchronousMachinePars" title="motulator.drive.utils.SynchronousMachinePars"><em>SynchronousMachinePars</em></a>) – Machine model parameters.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.current">
<span class="sig-name descname"><span class="pre">current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psi_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.current"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.current" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the stator current as a function of the stator flux linkage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Stator flux linkage (Vs).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>i_s</strong> – Stator current (A).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.current_limit">
<span class="sig-name descname"><span class="pre">current_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.pi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.current_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.current_limit" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the current limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Current limit (A).</p></li>
<li><p><strong>gamma1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Starting angle (electrical rad). The default is 0.</p></li>
<li><p><strong>gamma2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – End angle (electrical rad). The default is pi.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points. The default is 20.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>Object with the following fields defined</strong> –</p>
<dl class="simple">
<dt>psi_s<span class="classifier">complex</span></dt><dd><p>Stator flux (Vs).</p>
</dd>
<dt>i_s<span class="classifier">complex</span></dt><dd><p>Stator current (A).</p>
</dd>
<dt>tau_M<span class="classifier">float</span></dt><dd><p>Electromagnetic torque (Nm).</p>
</dd>
<dt>tau_M_vs_abs_psi_s<span class="classifier">interp1d object</span></dt><dd><p>Torque (Nm) as a function of the flux magnitude (Vs).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SimpleNamespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.flux">
<span class="sig-name descname"><span class="pre">flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.flux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.flux" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the stator flux linkage as a function of the current.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Stator current (A).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>psi_s</strong> – Stator flux linkage (Vs).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.mtpa">
<span class="sig-name descname"><span class="pre">mtpa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_i_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.mtpa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpa" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the MTPA stator current angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>abs_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Stator current magnitude (A).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>beta</strong> – MTPA angle of the stator current vector (electrical rad).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.mtpa_locus">
<span class="sig-name descname"><span class="pre">mtpa_locus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_psi_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.mtpa_locus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpa_locus" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the MTPA locus.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum stator current magnitude (A) at which the locus is
computed.</p></li>
<li><p><strong>min_psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Minimum stator flux magnitude (Vs) at which the locus is computed.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points. The default is 20.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>Object with the following fields defined</strong> –</p>
<dl class="simple">
<dt>psi_s<span class="classifier">complex</span></dt><dd><p>Stator flux (Vs).</p>
</dd>
<dt>i_s<span class="classifier">complex</span></dt><dd><p>Stator current (A).</p>
</dd>
<dt>tau_M<span class="classifier">float</span></dt><dd><p>Electromagnetic torque (Nm).</p>
</dd>
<dt>abs_psi_s_vs_tau_M<span class="classifier">callable</span></dt><dd><p>Stator flux magnitude (Vs) as a function of the torque (Nm).</p>
</dd>
<dt>i_sd_vs_tau_M<span class="classifier">callable</span></dt><dd><p>d-axis current (A) as a function of the torque (Nm).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SimpleNamespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.mtpv">
<span class="sig-name descname"><span class="pre">mtpv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_psi_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.mtpv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the MTPV stator flux angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>abs_psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Stator flux magnitude (Vs).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>delta</strong> – MTPV angle of the stator flux vector (electrical rad).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.mtpv_and_current_limits">
<span class="sig-name descname"><span class="pre">mtpv_and_current_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.mtpv_and_current_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_and_current_limits" title="Permalink to this definition">#</a></dt>
<dd><p>Merge the MTPV and current limits into a single interpolant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Current limit (A).</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points. The default is 20.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>Object with the following fields defined</strong> –</p>
<dl class="simple">
<dt>tau_M_vs_abs_psi_s<span class="classifier">interp1d object</span></dt><dd><p>Torque (Nm) as a function of the flux magnitude (Vs).</p>
</dd>
<dt>i_sd_vs_tau_M<span class="classifier">interp1d object</span></dt><dd><p>d-axis current (A) as a function of the torque (Nm).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SimpleNamespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.mtpv_current">
<span class="sig-name descname"><span class="pre">mtpv_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_i_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.mtpv_current"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_current" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the MTPV based on the current magnitude.</p>
<p>This computes the MTPV based on the current magnitude, i.e., the
intersection of the MTPV current locus and the current limit circle.
This method is not necessary for computing the control look-up tables.
It is used here to “cut” the MTPV characteristics at the desired
current. Alternatively just a large enough maximum flux magnitude could
be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>abs_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Stator current magnitude (A).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>i_s</strong> – MTPV stator current (A).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.mtpv_locus">
<span class="sig-name descname"><span class="pre">mtpv_locus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_psi_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.mtpv_locus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_locus" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the MTPV locus.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum stator flux magnitude (Vs) at which the locus is computed.
Either <cite>max_psi_s</cite> or <cite>max_i_s</cite> must be given.</p></li>
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum stator current magnitude (A) at which the locus is
computed.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points. The default is 20.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>Object with the following fields defined</strong> –</p>
<dl class="simple">
<dt>psi_s<span class="classifier">complex</span></dt><dd><p>Stator flux (Vs).</p>
</dd>
<dt>i_s<span class="classifier">complex</span></dt><dd><p>Stator current (A).</p>
</dd>
<dt>tau_M<span class="classifier">float</span></dt><dd><p>Electromagnetic torque (Nm).</p>
</dd>
<dt>tau_M_vs_abs_psi_s<span class="classifier">interp1d object</span></dt><dd><p>Torque (Nm) as a function of the flux magnitude (Vs).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SimpleNamespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.plot_current_loci">
<span class="sig-name descname"><span class="pre">plot_current_loci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.plot_current_loci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_current_loci" title="Permalink to this definition">#</a></dt>
<dd><p>Plot the current loci.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum current (A) at which the loci are evaluated.</p></li>
<li><p><strong>base</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.BaseValues" title="motulator.drive.utils.BaseValues"><em>BaseValues</em></a>) – Base values.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points to be evaluated. The default is 20.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.plot_flux_loci">
<span class="sig-name descname"><span class="pre">plot_flux_loci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.plot_flux_loci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_flux_loci" title="Permalink to this definition">#</a></dt>
<dd><p>Plot the stator flux linkage loci.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum current (A) at which the loci are evaluated.</p></li>
<li><p><strong>base</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.BaseValues" title="motulator.drive.utils.BaseValues"><em>BaseValues</em></a>) – Base values.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points to be evaluated. The default is 20.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.plot_torque_current">
<span class="sig-name descname"><span class="pre">plot_torque_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.plot_torque_current"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_torque_current" title="Permalink to this definition">#</a></dt>
<dd><p>Plot torque vs. current characteristics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum current (A) at which the loci are evaluated.</p></li>
<li><p><strong>base</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.BaseValues" title="motulator.drive.utils.BaseValues"><em>BaseValues</em></a>) – Base values.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points to be evaluated. The default is 20.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.plot_torque_flux">
<span class="sig-name descname"><span class="pre">plot_torque_flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_i_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.plot_torque_flux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_torque_flux" title="Permalink to this definition">#</a></dt>
<dd><p>Plot torque vs. flux magnitude characteristics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_i_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Maximum current (A) at which the loci are evaluated.</p></li>
<li><p><strong>base</strong> (<a class="reference internal" href="../../utils/index.html#motulator.drive.utils.BaseValues" title="motulator.drive.utils.BaseValues"><em>BaseValues</em></a>) – Base values.</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Amount of points to be evaluated. The default is 20.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="motulator.drive.control.sm.TorqueCharacteristics.torque">
<span class="sig-name descname"><span class="pre">torque</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psi_s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/motulator/drive/control/sm/_torque.html#TorqueCharacteristics.torque"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#motulator.drive.control.sm.TorqueCharacteristics.torque" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the torque as a function of the stator flux linkage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>psi_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)"><em>complex</em></a>) – Stator flux (Vs).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>tau_M</strong> – Electromagnetic torque (Nm).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../im/index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">motulator.drive.control.im</p>
      </div>
    </a>
    <a class="right-next"
       href="../../model/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">motulator.drive.model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#package-contents">Package Contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentController"><code class="docutils literal notranslate"><span class="pre">CurrentController</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentController.output"><code class="docutils literal notranslate"><span class="pre">CurrentController.output()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReference"><code class="docutils literal notranslate"><span class="pre">CurrentReference</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReference.output"><code class="docutils literal notranslate"><span class="pre">CurrentReference.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReference.update"><code class="docutils literal notranslate"><span class="pre">CurrentReference.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg.mtpa_i_sd"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg.mtpa_i_sd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg.lim_tau_M"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg.lim_tau_M</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentReferenceCfg.lim_i_sd"><code class="docutils literal notranslate"><span class="pre">CurrentReferenceCfg.lim_i_sd</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.current_reference"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.current_reference</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.observer"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.observer</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.current_ctrl"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.current_ctrl</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.speed_ctrl"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.speed_ctrl</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.get_feedback_signals"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.get_feedback_signals()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.output"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.CurrentVectorControl.update"><code class="docutils literal notranslate"><span class="pre">CurrentVectorControl.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxTorqueReference"><code class="docutils literal notranslate"><span class="pre">FluxTorqueReference</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxTorqueReferenceCfg"><code class="docutils literal notranslate"><span class="pre">FluxTorqueReferenceCfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxVectorControl"><code class="docutils literal notranslate"><span class="pre">FluxVectorControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.FluxVectorControl.output"><code class="docutils literal notranslate"><span class="pre">FluxVectorControl.output()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.Observer"><code class="docutils literal notranslate"><span class="pre">Observer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.Observer.output"><code class="docutils literal notranslate"><span class="pre">Observer.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.Observer.update"><code class="docutils literal notranslate"><span class="pre">Observer.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControl"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControl.output"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControl.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControl.update"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControl.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverBasedVHzControlCfg"><code class="docutils literal notranslate"><span class="pre">ObserverBasedVHzControlCfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.ObserverCfg"><code class="docutils literal notranslate"><span class="pre">ObserverCfg</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection"><code class="docutils literal notranslate"><span class="pre">SignalInjection</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection.filter_current"><code class="docutils literal notranslate"><span class="pre">SignalInjection.filter_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection.output"><code class="docutils literal notranslate"><span class="pre">SignalInjection.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjection.update"><code class="docutils literal notranslate"><span class="pre">SignalInjection.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl.get_feedback_signals"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl.get_feedback_signals()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl.output"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl.output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SignalInjectionControl.update"><code class="docutils literal notranslate"><span class="pre">SignalInjectionControl.update()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.SpeedController"><code class="docutils literal notranslate"><span class="pre">SpeedController</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.current"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.current_limit"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.current_limit()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.flux"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.flux()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpa"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpa()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpa_locus"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpa_locus()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_and_current_limits"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv_and_current_limits()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_current"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.mtpv_locus"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.mtpv_locus()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_current_loci"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_current_loci()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_flux_loci"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_flux_loci()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_torque_current"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_torque_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.plot_torque_flux"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.plot_torque_flux()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#motulator.drive.control.sm.TorqueCharacteristics.torque"><code class="docutils literal notranslate"><span class="pre">TorqueCharacteristics.torque()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Aalto Electric Drives
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Aalto Electric Drives.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>